(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33320ef8"],{"48fb":function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return o}));var n=i("b775");function a(e){return Object(n["a"])({url:"/statistics/time?start_time="+e.start_time+"&end_time="+e.end_time,method:"get"})}function s(e){return Object(n["a"])({url:"/statistics/build?build="+e.build+"&start_time="+e.searchTimestamp.start_time+"&end_time="+e.searchTimestamp.end_time,method:"get"})}function r(e){return Object(n["a"])({url:"/statistics/device?device="+e.device+"&start_time="+e.searchTimestamp.start_time+"&end_time="+e.searchTimestamp.end_time,method:"get"})}function c(e){return Object(n["a"])({url:"/statistics/type",method:"get"})}function o(e){return Object(n["a"])({url:"/statistics/classroom",method:"get"})}},5306:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));var n=i("b775");function a(){return Object(n["a"])({url:"/public/qa_types",method:"get"})}function s(e){return Object(n["a"])({url:"/qa_types",method:"post",data:e})}},6724:function(e,t,i){"use strict";i("8d41");var n="@@wavesContext";function a(e,t){function i(i){var n=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),s=a.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var r=s.getBoundingClientRect(),c=s.querySelector(".waves-ripple");switch(c?c.className="waves-ripple":(c=document.createElement("span"),c.className="waves-ripple",c.style.height=c.style.width=Math.max(r.width,r.height)+"px",s.appendChild(c)),a.type){case"center":c.style.top=r.height/2-c.offsetHeight/2+"px",c.style.left=r.width/2-c.offsetWidth/2+"px";break;default:c.style.top=(i.pageY-r.top-c.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",c.style.left=(i.pageX-r.left-c.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return c.style.backgroundColor=a.color,c.className="waves-ripple z-active",!1}}return e[n]?e[n].removeHandle=i:e[n]={removeHandle:i},i}var s={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[n].removeHandle,!1),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[n].removeHandle,!1),e[n]=null,delete e[n]}},r=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(r)),s.install=r;t["a"]=s},"8d41":function(e,t,i){},a66d:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[""===e.listQuery.val?i("span",{staticClass:"demonstration filter-container",staticStyle:{display:"flex","justify-content":"center",width:"auto"}},[e._v("\n      当前设定时间为: "+e._s(e.oneWeekTime)+" 至 "+e._s(e.nowTime))]):e._e(),e._v(" "),""!=e.listQuery.val?i("span",{staticClass:"demonstration filter-container",staticStyle:{display:"flex","justify-content":"center",width:"auto"}},[i("div",[e._v("当前设定时间为：")]),e._v("\n      "+e._s(e._f("parseTime")(e.listQuery.searchTimestamp.start_time))+" 至 "+e._s(e._f("parseTime")(e.listQuery.searchTimestamp.end_time))+"\n    ")]):e._e(),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"center",width:"auto"}},[i("el-select",{attrs:{placeholder:"请选择设备类型"},on:{change:e.getDeviceData},model:{value:e.listQuery.device,callback:function(t){e.$set(e.listQuery,"device",t)},expression:"listQuery.device"}},e._l(e.deviceOptions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.title}})})),1),e._v(" "),i("el-date-picker",{attrs:{type:"daterange",align:"center","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,clearable:!0,"value-format":"timestamp","date-type":"time"},on:{change:e.getDeviceData},model:{value:e.listQuery.val,callback:function(t){e.$set(e.listQuery,"val",t)},expression:"listQuery.val"}})],1)]),e._v(" "),i("span",{staticClass:"demonstration filter-container",staticStyle:{display:"flex","justify-content":"center",width:"auto"}},[e._v(e._s(e.listQuery.device)+"各教学楼报修数据")]),e._v(" "),i("div",[i("el-button",{on:{click:e.changeType}},[e._v("切换图表类型")]),e._v(" "),i("ve-chart",{attrs:{data:e.buildData,settings:e.chartSettings,height:"580px",loading:e.loading,"data-empty":e.dataEmpty,extend:e.extend}})],1)])},a=[],s=i("5306"),r=i("48fb"),c=i("6724"),o={name:"Dimension",directives:{waves:c["a"]},data:function(){return this.typeArr=["pie","histogram"],this.index=0,this.extend={series:{label:{show:!0,position:"top"}}},{dataEmpty:!0,loading:!1,oneWeekTime:"",nowTime:"",chartSettings:{type:this.typeArr[this.index]},buildData:{columns:["build","下单数量"],rows:[]},deviceData:{columns:["device","下单数量"],rows:[]},timeData:{columns:["time","下单数量"],rows:[]},dateData:{columns:["date","下单数量"],rows:[]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]},deviceOptions:[],value:"",listLoading:!0,listQuery:{val:"",searchTimestamp:{start_time:"",end_time:""},build:"",device:""}}},created:function(){this.getData(),this.getNowTime(),this.getOneWeek()},methods:{getNowTime:function(){var e=new Date,t=e.getFullYear(),i=e.getMonth()+1,n=e.getDate(),a=t+"-"+i+"-"+n;this.nowTime=a},getOneWeek:function(){var e=new Date,t=new Date(e-6048e5),i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),s=i+"-"+n+"-"+a;this.oneWeekTime=s},changeType:function(){this.index++,this.index>=this.typeArr.length&&(this.index=0),this.chartSettings={type:this.typeArr[this.index]}},getData:function(){var e=this;this.listLoading=!0,Object(s["b"])().then((function(t){e.deviceOptions=t.data,setTimeout((function(){e.listLoading=!1}),1500)}))},getDeviceData:function(){var e=this;this.listQuery.searchTimestamp.start_time="",this.listQuery.searchTimestamp.end_time="",this.listLoading=!0,this.listQuery.val&&(this.listQuery.searchTimestamp=this.formTime(this.listQuery.val)),Object(r["d"])(this.listQuery).then((function(t){""!==t.data&&(e.dataEmpty=!1),e.buildData.rows=e.formData("build",t.data.build)}))},formData:function(e,t){var i=[];for(var n in t){var a={};a[e]=n,a.下单数量=t[n],i.push(a)}return i},formTime:function(e){var t={};return t.start_time=Math.round(e[0]/1e3),t.end_time=Math.round(e[1]/1e3),t}}},l=o,u=i("2877"),d=Object(u["a"])(l,n,a,!1,null,null,null);t["default"]=d.exports}}]);